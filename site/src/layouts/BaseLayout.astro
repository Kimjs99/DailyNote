---
import "../styles/global.css";

const { title, description } = Astro.props;
const pathname = Astro.url.pathname;
const isHome = pathname === "/";
const isAbout = pathname.startsWith("/about");
const isBlog =
  pathname.startsWith("/blog") ||
  pathname.startsWith("/tags") ||
  pathname.startsWith("/categories");
const pageTitle = title ? `${title} · Minimal Editorial` : "Minimal Editorial";
const metaDescription =
  description ??
  "느린 글쓰기와 디자인, 차분한 일상을 담는 미니멀 에디토리얼 블로그.";
const baseUrl = import.meta.env.BASE_URL;
---

<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <link
      rel="icon"
      type="image/png"
      href={`${import.meta.env.BASE_URL}blogicon.png`}
    />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={metaDescription} />
    <meta name="generator" content={Astro.generator} />
    <title>{pageTitle}</title>
  </head>
  <body>
    <a class="skip-link" href="#content">본문으로 건너뛰기</a>
    <div class="page">
      <header class="site-header">
        <div class="container header-inner">
          <a class="logo" href={baseUrl}>Minimal Editorial</a>
          <nav class="nav">
            <a class={`nav-link ${isHome ? "active" : ""}`} href={baseUrl}>
              홈
            </a>
            <a
              class={`nav-link ${isAbout ? "active" : ""}`}
              href={`${baseUrl}about/`}
            >
              소개
            </a>
            <a
              class={`nav-link ${isBlog ? "active" : ""}`}
              href={`${baseUrl}blog/`}
            >
              블로그
            </a>
          </nav>
        </div>
      </header>
      <main id="content">
        <slot />
      </main>
      <footer class="site-footer">
        <div class="container footer-inner">
          <p>Minimal Editorial — 천천히 쓰는 글, 더 선명한 하루.</p>
          <div class="footer-links">
            <a href={`${baseUrl}tags/`}>태그</a>
            <a href={`${baseUrl}categories/`}>카테고리</a>
            <a href={`${baseUrl}blog/`}>아카이브</a>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>
