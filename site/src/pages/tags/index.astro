---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getBlogPosts, groupByTag, slugify } from "../../utils/content";

const posts = await getBlogPosts();
const tags = groupByTag(posts);
---

<BaseLayout title="태그" description="태그로 글을 모아봅니다.">
  <section class="section">
    <div class="container panel">
      <p class="eyebrow">주제</p>
      <h1>태그</h1>
      <div class="grid two">
        {tags.map(([tag, items]) => (
          <div>
            <p class="eyebrow">{items.length}개</p>
            <h3>
              <a href={`/tags/${slugify(tag)}`}>#{tag}</a>
            </h3>
          </div>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>
